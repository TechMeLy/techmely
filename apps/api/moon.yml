type: "application"
language: "typescript"

fileGroups:
  app:
    - "modules/**/*"
    - "index.ts"

tasks:
  dev:
    command: "bun run --hot index.ts"
    env:
      NODE_ENV: "development"
  start:
    command: "bun run index.ts"
    env:
      NODE_ENV: "production"
  build:
    command: "bun build --target=bun --minify --outdir=./dist src/index.ts && bun build --target=bun --minify --outdir=./dist migrate.ts"
  migrate.dev.latest:
    command: "bun run ./migrate.ts dev latest"

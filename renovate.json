{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": ["config:base"],
  "rebaseWhen": "conflicted",
  "schedule": ["before 6am on the first day of the month"],
  "baseBranches": ["dev"],
  "rangeStrategy": "bump",
  "ignoreDeps": ["node", "pnpm"],
  "packageRules": [
    {
      "matchDepTypes": ["peerDependencies"],
      "enabled": false
    },
    {
      "groupName": "components",
      "commitMessageTopic": "components",
      "matchPaths": ["packages/ui/**"],
      "matchUpdateTypes": ["major", "minor", "patch"],
      "matchDatasources": ["npm"]
    },
    {
      "groupName": "ddd",
      "commitMessageTopic": "ddd",
      "matchPaths": ["ddd/**"],
      "matchUpdateTypes": ["major", "minor", "patch"],
      "matchDatasources": ["npm"]
    },
    {
      "groupName": "apps",
      "commitMessageTopic": "apps",
      "matchPaths": ["apps/**"],
      "matchUpdateTypes": ["major", "minor", "patch"],
      "matchDatasources": ["npm"]
    },
    {
      "groupName": "packages",
      "matchUpdateTypes": ["patch", "minor", "major"],
      "matchPaths": ["packages/**"],
      "ignorePaths": ["packages/ui/**"],
      "matchDatasources": ["npm", "github-actions"],
      "labels": ["dependencies"],
      "addLabels": ["dependencies"]
    }
  ]
}
